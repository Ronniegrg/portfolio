import{j as e}from"./pdf-CluT7MnC.js";import{r as m}from"./vendor-oRbVRwwp.js";import{T as F,B as J,S as B}from"./index-CIQckQl_.js";import{B as K,C as O,a as Z,L as Q,b as X,p as Y,c as M,d as $,D as ee,A as se}from"./charts-sTrSiEz0.js";import"./icons-DwfByM9t.js";O.register(Z,Q,X,Y,M,$);const te=({metrics:n})=>{const{isDarkMode:h}=m.useContext(F),p=h?"#e1e1e1":"#333333",C=h?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",j={labels:["FCP","LCP","TTFB","FID","CLS"],datasets:[{label:"Performance Metrics (ms)",data:[n.fcp,n.lcp,n.ttfb,n.fid,n.cls?n.cls*1e3:null],backgroundColor:["rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 99, 132, 0.7)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},S={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{color:p},grid:{color:C},title:{display:!0,text:"Time (ms)",color:p}},x:{ticks:{color:p},grid:{color:C}}},plugins:{legend:{labels:{color:p}},tooltip:{callbacks:{label:function(f){let N=f.dataset.label||"";return N&&(N+=": "),f.parsed.y!==null&&(f.dataIndex===4?N+=(f.parsed.y/1e3).toFixed(4):N+=f.parsed.y.toFixed(2)+" ms"),N}}},title:{display:!0,text:"Web Vitals Performance Metrics",color:p,font:{size:16}}}};return!n.fcp&&!n.lcp&&!n.ttfb&&!n.fid&&!n.cls?e.jsx("div",{className:"chart-container",style:{height:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("p",{children:"No performance data available yet"})}):e.jsx("div",{className:"chart-container",style:{height:"400px"},children:e.jsx(K,{data:j,options:S})})};O.register(se,M,$);const ae=({cls:n})=>{const{isDarkMode:h}=m.useContext(F),p=h?"#e1e1e1":"#333333";let C="rgba(75, 192, 100, 0.7)",j="rgba(75, 192, 100, 1)";n>.25?(C="rgba(255, 99, 132, 0.7)",j="rgba(255, 99, 132, 1)"):n>.1&&(C="rgba(255, 206, 86, 0.7)",j="rgba(255, 206, 86, 1)");const S=n<1?1-n:0,f={labels:["CLS Score",""],datasets:[{data:[n,S],backgroundColor:[C,h?"rgba(50, 50, 50, 0.2)":"rgba(240, 240, 240, 0.5)"],borderColor:[j,h?"rgba(50, 50, 50, 0.1)":"rgba(240, 240, 240, 0.3)"],borderWidth:1}]},N={responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(w){return w.dataIndex===0?`CLS: ${w.raw.toFixed(3)}`:""}}},title:{display:!0,text:"Cumulative Layout Shift",color:p,font:{size:16}}}};let b="Good",y="#4CAF50";return n>.25?(b="Poor",y="#F44336"):n>.1&&(b="Needs Improvement",y="#FFC107"),n===null?e.jsx("div",{className:"chart-container",style:{height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("p",{children:"No CLS data available yet"})}):e.jsxs("div",{className:"chart-container",style:{height:"300px",position:"relative"},children:[e.jsx(ee,{data:f,options:N}),e.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",pointerEvents:"none"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:y},children:n.toFixed(3)}),e.jsx("div",{style:{fontSize:"14px",color:y},children:b})]})]})},ne="_container_1i904_3",ie="_authContainer_1i904_14",re="_float_1i904_1",ce="_authForm_1i904_63",oe="_authHeader_1i904_97",le="_authIcon_1i904_103",de="_pulse_1i904_1",he="_input_1i904_161",me="_button_1i904_212",_e="_loadingSpinner_1i904_319",ue="_spinner_1i904_328",pe="_spin_1i904_328",xe="_header_1i904_338",ge="_headerContent_1i904_347",ve="_heading_1i904_354",je="_headingIcon_1i904_364",fe="_headerActions_1i904_368",Ne="_autoRefreshToggle_1i904_374",Ce="_toggleLabel_1i904_379",be="_checkbox_1i904_388",we="_refreshButton_1i904_394",Ie="_exportDropdown_1i904_411",Se="_exportButton_1i904_415",ye="_exportMenu_1i904_431",Pe="_filters_1i904_465",Te="_filterGroup_1i904_472",Ve="_select_1i904_484",De="_searchInput_1i904_499",Le="_summaryGrid_1i904_514",Be="_summaryCard_1i904_521",Ae="_cardIcon_1i904_539",Re="_cardContent_1i904_551",ke="_cardValue_1i904_558",Fe="_cardSubtext_1i904_565",Oe="_tabsContainer_1i904_570",Me="_tabs_1i904_570",$e="_tab_1i904_570",Ge="_activeTab_1i904_604",He="_tabIcon_1i904_610",Ue="_contentArea_1i904_614",Ee="_overviewGrid_1i904_624",ze="_overviewCard_1i904_630",qe="_cardIconBadge_1i904_653",We="_liveIndicator_1i904_658",Je="_trendIndicator_1i904_667",Ke="_engagementScore_1i904_676",Ze="_realtimeStats_1i904_685",Qe="_statItem_1i904_691",Xe="_statLabel_1i904_697",Ye="_statIcon_1i904_706",es="_statValue_1i904_710",ss="_active_1i904_604",ts="_inactive_1i904_720",as="_topPagesList_1i904_724",ns="_topPageItem_1i904_730",is="_pageRank_1i904_746",rs="_pageInfo_1i904_753",cs="_pagePath_1i904_757",os="_pageStats_1i904_764",ls="_pageCount_1i904_770",ds="_pagePercentage_1i904_774",hs="_pageProgress_1i904_779",ms="_progressBar_1i904_787",_s="_interactionTypes_1i904_794",us="_interactionItem_1i904_800",ps="_interactionHeader_1i904_813",xs="_interactionType_1i904_794",gs="_interactionBadge_1i904_825",vs="_interactionMetrics_1i904_834",js="_interactionCount_1i904_840",fs="_interactionRate_1i904_845",Ns="_performanceOverview_1i904_849",Cs="_metricItem_1i904_855",bs="_trafficSourcesPreview_1i904_878",ws="_sourcePreviewItem_1i904_884",Is="_sourceName_1i904_894",Ss="_sourceCount_1i904_899",ys="_recentActivity_1i904_905",Ps="_activityItem_1i904_911",Ts="_activityPath_1i904_921",Vs="_activityTime_1i904_926",Ds="_noData_1i904_931",Ls="_noDataIcon_1i904_941",Bs="_dataCard_1i904_946",As="_cardHeader_1i904_953",Rs="_resultCount_1i904_967",ks="_tableContainer_1i904_973",Fs="_table_1i904_973",Os="_pathCell_1i904_1004",Ms="_timeCell_1i904_1009",$s="_referrerCell_1i904_1014",Gs="_relativeTimeCell_1i904_1018",Hs="_typeCell_1i904_1023",Us="_targetCell_1i904_1032",Es="_textCell_1i904_1041",zs="_performanceSection_1i904_1049",qs="_chartsContainer_1i904_1056",Ws="_mainChart_1i904_1063",Js="_clsChart_1i904_1070",Ks="_performanceTable_1i904_1077",Zs="_metricName_1i904_1084",Qs="_metricValue_1i904_1089",Xs="_metricStatus_1i904_1094",Ys="_metricDescription_1i904_1101",et="_trafficSources_1i904_878",st="_trafficSourceItem_1i904_1112",tt="_sourceInfo_1i904_1119",at="_sourceBar_1i904_1137",nt="_sourceBarFill_1i904_1144",it="_footerActions_1i904_1151",rt="_footerInfo_1i904_1162",ct="_lastUpdated_1i904_1168",ot="_dataStats_1i904_1174",lt="_footerButtons_1i904_1179",dt="_clearButton_1i904_1184",ht="_pageViewsSection_1i904_1388",mt="_gradientShift_1i904_1",_t="_pageViewsHeader_1i904_1433",ut="_pageViewsTitle_1i904_1443",pt="_pageViewsIcon_1i904_1453",xt="_viewsCounter_1i904_1463",gt="_totalViews_1i904_1469",vt="_viewsNumber_1i904_1483",jt="_viewsLabel_1i904_1491",ft="_viewsGrowth_1i904_1498",Nt="_enhancedTable_1i904_1512",Ct="_enhancedPathCell_1i904_1588",bt="_enhancedTimeCell_1i904_1603",wt="_enhancedReferrerCell_1i904_1613",It="_directTraffic_1i904_1620",St="_externalReferrer_1i904_1625",yt="_enhancedRelativeTimeCell_1i904_1630",Pt="_timeAgo_1i904_1638",Tt="_recentIndicator_1i904_1654",Vt="_oldIndicator_1i904_1664",Dt="_pageViewsStats_1i904_1671",Lt="_statCard_1i904_1686",Bt="_pageViewsPagination_1i904_1725",At="_paginationButton_1i904_1735",s={container:ne,authContainer:ie,float:re,authForm:ce,authHeader:oe,authIcon:le,pulse:de,input:he,button:me,loadingSpinner:_e,spinner:ue,spin:pe,header:xe,headerContent:ge,heading:ve,headingIcon:je,headerActions:fe,autoRefreshToggle:Ne,toggleLabel:Ce,checkbox:be,refreshButton:we,exportDropdown:Ie,exportButton:Se,exportMenu:ye,filters:Pe,filterGroup:Te,select:Ve,searchInput:De,summaryGrid:Le,summaryCard:Be,cardIcon:Ae,cardContent:Re,cardValue:ke,cardSubtext:Fe,tabsContainer:Oe,tabs:Me,tab:$e,activeTab:Ge,tabIcon:He,contentArea:Ue,overviewGrid:Ee,overviewCard:ze,cardIconBadge:qe,liveIndicator:We,trendIndicator:Je,engagementScore:Ke,realtimeStats:Ze,statItem:Qe,statLabel:Xe,statIcon:Ye,statValue:es,active:ss,inactive:ts,topPagesList:as,topPageItem:ns,pageRank:is,pageInfo:rs,pagePath:cs,pageStats:os,pageCount:ls,pagePercentage:ds,pageProgress:hs,progressBar:ms,interactionTypes:_s,interactionItem:us,interactionHeader:ps,interactionType:xs,interactionBadge:gs,interactionMetrics:vs,interactionCount:js,interactionRate:fs,performanceOverview:Ns,metricItem:Cs,trafficSourcesPreview:bs,sourcePreviewItem:ws,sourceName:Is,sourceCount:Ss,recentActivity:ys,activityItem:Ps,activityPath:Ts,activityTime:Vs,noData:Ds,noDataIcon:Ls,dataCard:Bs,cardHeader:As,resultCount:Rs,tableContainer:ks,table:Fs,pathCell:Os,timeCell:Ms,referrerCell:$s,relativeTimeCell:Gs,typeCell:Hs,targetCell:Us,textCell:Es,performanceSection:zs,chartsContainer:qs,mainChart:Ws,clsChart:Js,performanceTable:Ks,metricName:Zs,metricValue:Qs,metricStatus:Xs,metricDescription:Ys,trafficSources:et,trafficSourceItem:st,sourceInfo:tt,sourceBar:at,sourceBarFill:nt,footerActions:it,footerInfo:rt,lastUpdated:ct,dataStats:ot,footerButtons:lt,clearButton:dt,pageViewsSection:ht,gradientShift:mt,pageViewsHeader:_t,pageViewsTitle:ut,pageViewsIcon:pt,viewsCounter:xt,totalViews:gt,viewsNumber:vt,viewsLabel:jt,viewsGrowth:ft,enhancedTable:Nt,enhancedPathCell:Ct,enhancedTimeCell:bt,enhancedReferrerCell:wt,directTraffic:It,externalReferrer:St,enhancedRelativeTimeCell:yt,timeAgo:Pt,recentIndicator:Tt,oldIndicator:Vt,pageViewsStats:Dt,statCard:Lt,pageViewsPagination:Bt,paginationButton:At},Rt=n=>{const h={click:"👆",scroll:"📜",hover:"🖱️",focus:"🎯",submit:"📤",download:"💾",navigation:"🧭",search:"🔍",default:"⚡"};return h[n.toLowerCase()]||h.default},kt=n=>{const h={click:"🔥 Hot",scroll:"📈 Rising",hover:"⭐ Popular",focus:"💎 Premium",submit:"✅ Active",download:"📥 Trending",navigation:"🚀 Fast",search:"🔍 Explored",default:"📊 Normal"};return h[n.toLowerCase()]||h.default},Ht=()=>{const[n,h]=m.useState(null),[p,C]=m.useState("overview"),[j,S]=m.useState(!1),[f,N]=m.useState(""),[b,y]=m.useState("all"),[w,G]=m.useState(""),[H,A]=m.useState(!1),[P,U]=m.useState(!0),[R,V]=m.useState(new Date),[T,E]=m.useState("timestamp"),[D,z]=m.useState("desc"),x=J();m.useEffect(()=>{if(j){A(!0);const t=B.getData();h(t),A(!1)}},[j]),m.useEffect(()=>{if(!j||!P)return;const t=setInterval(()=>{const a=B.getData();h(a),V(new Date)},3e4);return()=>clearInterval(t)},[j,P]);const g=m.useMemo(()=>{if(!n)return null;const t=new Date,a=d=>{if(b==="all")return d;const _=new Date;switch(b){case"today":_.setHours(0,0,0,0);break;case"week":_.setDate(t.getDate()-7);break;case"month":_.setMonth(t.getMonth()-1);break;default:return d}return d.filter(r=>new Date(r.timestamp)>=_)},c=(d,_)=>w?d.filter(r=>{var o;return(o=r[_])==null?void 0:o.toLowerCase().includes(w.toLowerCase())}):d,l=d=>d.sort((_,r)=>{let o=_[T],I=r[T];return T==="timestamp"&&(o=new Date(o),I=new Date(I)),D==="asc"?o>I?1:-1:o<I?1:-1}),u=l(c(a(n.pageViews),"path")),v=l(c(a(n.interactions),"type"));return{...n,pageViews:u,interactions:v}},[n,b,w,T,D]),i=m.useMemo(()=>{if(!g)return null;const{pageViews:t,interactions:a}=g,c=t.reduce((r,o)=>(r[o.path]=(r[o.path]||0)+1,r),{}),l=new Map;t.forEach(r=>{const o=r.sessionId||r.timestamp;l.has(o)||l.set(o,[]),l.get(o).push(r)});const u=Array.from(l.values()).filter(r=>r.length===1).length/l.size*100,v=Object.entries(c).sort((r,o)=>o[1]-r[1]).slice(0,5),d=a.reduce((r,o)=>(r[o.type]=(r[o.type]||0)+1,r),{}),_=t.reduce((r,o)=>{const I=o.referrer||"Direct";return r[I]=(r[I]||0)+1,r},{});return{totalPageViews:t.length,totalInteractions:a.length,uniquePaths:Object.keys(c).length,bounceRate:isNaN(u)?0:u,topPages:v,interactionTypes:d,trafficSources:_,sessionsCount:l.size}},[g]),k=(t="json")=>{if(!n)return;const a={...n,exportDate:new Date().toISOString(),summary:i};if(t==="json"){const c=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),l=URL.createObjectURL(c),u=document.createElement("a");u.href=l,u.download=`analytics-${new Date().toISOString().split("T")[0]}.json`,u.click(),URL.revokeObjectURL(l)}else if(t==="csv"){const l=[["Path","Timestamp","Referrer"],...n.pageViews.map(_=>[_.path,_.timestamp,_.referrer||""])].map(_=>_.map(r=>`"${r}"`).join(",")).join(`
`),u=new Blob([l],{type:"text/csv"}),v=URL.createObjectURL(u),d=document.createElement("a");d.href=v,d.download=`analytics-${new Date().toISOString().split("T")[0]}.csv`,d.click(),URL.revokeObjectURL(v)}},q=t=>{t.preventDefault(),f==="portfolio-admin"?S(!0):alert("Invalid password")},W=t=>new Date(t).toLocaleString(),L=t=>{const a=new Date(t),l=new Date-a,u=Math.floor(l/(1e3*60)),v=Math.floor(l/(1e3*60*60)),d=Math.floor(l/(1e3*60*60*24));return u<60?`${u}m ago`:v<24?`${v}h ago`:`${d}d ago`};return j?H||!n||!i?e.jsx("div",{className:s.container,children:e.jsxs("div",{className:s.loadingSpinner,children:[e.jsx("div",{className:s.spinner}),e.jsx("p",{children:"Loading analytics data..."})]})}):e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:s.header,children:[e.jsxs("div",{className:s.headerContent,children:[e.jsxs("h1",{className:s.heading,children:[e.jsx("span",{className:s.headingIcon,children:"📊"}),"Analytics Dashboard"]}),e.jsxs("div",{className:s.headerActions,children:[e.jsx("div",{className:s.autoRefreshToggle,children:e.jsxs("label",{className:s.toggleLabel,children:[e.jsx("input",{type:"checkbox",checked:P,onChange:t=>U(t.target.checked),className:s.checkbox}),"Auto-refresh"]})}),e.jsx("button",{className:s.refreshButton,onClick:()=>{const t=B.getData();h(t),V(new Date)},children:"🔄 Refresh"}),e.jsxs("div",{className:s.exportDropdown,children:[e.jsx("button",{className:s.exportButton,children:"📥 Export"}),e.jsxs("div",{className:s.exportMenu,children:[e.jsx("button",{onClick:()=>k("json"),children:"JSON"}),e.jsx("button",{onClick:()=>k("csv"),children:"CSV"})]})]})]})]}),e.jsxs("div",{className:s.filters,children:[e.jsxs("div",{className:s.filterGroup,children:[e.jsx("label",{children:"Time Period:"}),e.jsxs("select",{value:b,onChange:t=>y(t.target.value),className:s.select,children:[e.jsx("option",{value:"all",children:"All Time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"Last 7 Days"}),e.jsx("option",{value:"month",children:"Last 30 Days"})]})]}),e.jsxs("div",{className:s.filterGroup,children:[e.jsx("label",{children:"Sort By:"}),e.jsxs("select",{value:T,onChange:t=>E(t.target.value),className:s.select,children:[e.jsx("option",{value:"timestamp",children:"Time"}),e.jsx("option",{value:"path",children:"Path"}),e.jsx("option",{value:"type",children:"Type"})]})]}),e.jsxs("div",{className:s.filterGroup,children:[e.jsx("label",{children:"Order:"}),e.jsxs("select",{value:D,onChange:t=>z(t.target.value),className:s.select,children:[e.jsx("option",{value:"desc",children:"Newest First"}),e.jsx("option",{value:"asc",children:"Oldest First"})]})]}),e.jsxs("div",{className:s.filterGroup,children:[e.jsx("label",{children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search pages, interactions...",value:w,onChange:t=>G(t.target.value),className:s.searchInput})]})]})]}),e.jsxs("div",{className:s.summaryGrid,children:[e.jsxs("div",{className:s.summaryCard,children:[e.jsx("div",{className:s.cardIcon,children:"👁️"}),e.jsxs("div",{className:s.cardContent,children:[e.jsx("h3",{children:"Page Views"}),e.jsx("p",{className:s.cardValue,children:i.totalPageViews.toLocaleString()}),e.jsx("span",{className:s.cardSubtext,children:"Total visits"})]})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("div",{className:s.cardIcon,children:"🎯"}),e.jsxs("div",{className:s.cardContent,children:[e.jsx("h3",{children:"Interactions"}),e.jsx("p",{className:s.cardValue,children:i.totalInteractions.toLocaleString()}),e.jsx("span",{className:s.cardSubtext,children:"User actions"})]})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("div",{className:s.cardIcon,children:"📄"}),e.jsxs("div",{className:s.cardContent,children:[e.jsx("h3",{children:"Unique Pages"}),e.jsx("p",{className:s.cardValue,children:i.uniquePaths}),e.jsx("span",{className:s.cardSubtext,children:"Different paths"})]})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("div",{className:s.cardIcon,children:"⚡"}),e.jsxs("div",{className:s.cardContent,children:[e.jsx("h3",{children:"Bounce Rate"}),e.jsxs("p",{className:s.cardValue,children:[i.bounceRate.toFixed(1),"%"]}),e.jsx("span",{className:s.cardSubtext,children:"Single page visits"})]})]})]}),e.jsx("div",{className:s.tabsContainer,children:e.jsx("div",{className:s.tabs,children:[{key:"overview",label:"Overview",icon:"📈"},{key:"pageViews",label:"Page Views",icon:"👁️"},{key:"interactions",label:"Interactions",icon:"🎯"},{key:"performance",label:"Performance",icon:"⚡"},{key:"traffic",label:"Traffic Sources",icon:"🌐"}].map(t=>e.jsxs("button",{className:`${s.tab} ${p===t.key?s.activeTab:""}`,onClick:()=>C(t.key),children:[e.jsx("span",{className:s.tabIcon,children:t.icon}),t.label]},t.key))})}),e.jsxs("div",{className:s.contentArea,children:[p==="overview"&&e.jsxs("div",{className:s.overviewGrid,children:[e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx("span",{className:s.cardIconBadge,children:"📊"}),"Real-time Statistics",e.jsx("span",{className:s.liveIndicator,children:"🔴 LIVE"})]}),e.jsxs("div",{className:s.realtimeStats,children:[e.jsxs("div",{className:s.statItem,children:[e.jsxs("span",{className:s.statLabel,children:[e.jsx("span",{className:s.statIcon,children:"👥"}),"Active Sessions"]}),e.jsx("span",{className:s.statValue,children:i.sessionsCount})]}),e.jsxs("div",{className:s.statItem,children:[e.jsxs("span",{className:s.statLabel,children:[e.jsx("span",{className:s.statIcon,children:"📄"}),"Avg. Pages/Session"]}),e.jsx("span",{className:s.statValue,children:i.sessionsCount>0?(i.totalPageViews/i.sessionsCount).toFixed(1):"0"})]}),e.jsxs("div",{className:s.statItem,children:[e.jsxs("span",{className:s.statLabel,children:[e.jsx("span",{className:s.statIcon,children:"⚡"}),"Auto-refresh"]}),e.jsx("span",{className:`${s.statValue} ${P?s.active:s.inactive}`,children:P?"🟢 ON":"🔴 OFF"})]}),e.jsxs("div",{className:s.statItem,children:[e.jsxs("span",{className:s.statLabel,children:[e.jsx("span",{className:s.statIcon,children:"🕒"}),"Last Updated"]}),e.jsx("span",{className:s.statValue,children:R.toLocaleTimeString()})]})]})]}),e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx("span",{className:s.cardIconBadge,children:"🏆"}),"Most Popular Pages",e.jsx("span",{className:s.trendIndicator,children:"📈 +12%"})]}),e.jsx("div",{className:s.topPagesList,children:i.topPages.length>0?i.topPages.map(([t,a],c)=>e.jsxs("div",{className:s.topPageItem,children:[e.jsxs("span",{className:s.pageRank,children:["#",c+1]}),e.jsxs("div",{className:s.pageInfo,children:[e.jsx("span",{className:s.pagePath,children:t}),e.jsxs("div",{className:s.pageStats,children:[e.jsxs("span",{className:s.pageCount,children:[a," views"]}),e.jsxs("span",{className:s.pagePercentage,children:[(a/i.totalPageViews*100).toFixed(1),"%"]})]})]}),e.jsx("div",{className:s.pageProgress,children:e.jsx("div",{className:s.progressBar,style:{width:`${a/i.topPages[0][1]*100}%`}})})]},t)):e.jsxs("div",{className:s.noData,children:[e.jsx("span",{className:s.noDataIcon,children:"📭"}),"No page views recorded yet"]})})]}),e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx("span",{className:s.cardIconBadge,children:"🎯"}),"User Engagement",e.jsx("span",{className:s.engagementScore,children:"Score: 8.5/10"})]}),e.jsx("div",{className:s.interactionTypes,children:Object.entries(i.interactionTypes).length>0?Object.entries(i.interactionTypes).map(([t,a])=>e.jsxs("div",{className:s.interactionItem,children:[e.jsxs("div",{className:s.interactionHeader,children:[e.jsxs("span",{className:s.interactionType,children:[Rt(t)," ",t]}),e.jsx("span",{className:s.interactionBadge,children:kt(t)})]}),e.jsxs("div",{className:s.interactionMetrics,children:[e.jsx("span",{className:s.interactionCount,children:a}),e.jsxs("span",{className:s.interactionRate,children:[(a/i.totalInteractions*100).toFixed(1),"%"]})]})]},t)):e.jsxs("div",{className:s.noData,children:[e.jsx("span",{className:s.noDataIcon,children:"🎭"}),"No interactions recorded yet"]})})]}),e.jsxs("div",{className:s.overviewCard,children:[e.jsx("h3",{children:"⚡ Performance Overview"}),e.jsxs("div",{className:s.performanceOverview,children:[e.jsxs("div",{className:s.metricItem,children:[e.jsx("span",{children:"LCP"}),e.jsx("span",{children:x.lcp?`${x.lcp.toFixed(0)}ms`:"N/A"})]}),e.jsxs("div",{className:s.metricItem,children:[e.jsx("span",{children:"FCP"}),e.jsx("span",{children:x.fcp?`${x.fcp.toFixed(0)}ms`:"N/A"})]}),e.jsxs("div",{className:s.metricItem,children:[e.jsx("span",{children:"CLS"}),e.jsx("span",{children:x.cls?x.cls.toFixed(3):"N/A"})]})]})]}),e.jsxs("div",{className:s.overviewCard,children:[e.jsx("h3",{children:"🌐 Traffic Sources Overview"}),e.jsx("div",{className:s.trafficSourcesPreview,children:Object.entries(i.trafficSources).length>0?Object.entries(i.trafficSources).sort((t,a)=>a[1]-t[1]).slice(0,3).map(([t,a])=>e.jsxs("div",{className:s.sourcePreviewItem,children:[e.jsx("span",{className:s.sourceName,children:t}),e.jsx("span",{className:s.sourceCount,children:a})]},t)):e.jsx("div",{className:s.noData,children:"No traffic sources recorded yet"})})]}),e.jsxs("div",{className:s.overviewCard,children:[e.jsx("h3",{children:"🕐 Recent Activity"}),e.jsx("div",{className:s.recentActivity,children:g.pageViews.length>0?g.pageViews.slice().reverse().slice(0,5).map((t,a)=>e.jsxs("div",{className:s.activityItem,children:[e.jsx("span",{className:s.activityPath,children:t.path}),e.jsx("span",{className:s.activityTime,children:L(t.timestamp)})]},a)):e.jsx("div",{className:s.noData,children:"No recent activity"})})]})]}),p==="pageViews"&&e.jsxs("div",{className:s.pageViewsSection,children:[e.jsxs("div",{className:s.pageViewsHeader,children:[e.jsxs("h2",{className:s.pageViewsTitle,children:[e.jsx("span",{className:s.pageViewsIcon,children:"📄"}),"Page Views Analytics"]}),e.jsx("div",{className:s.viewsCounter,children:e.jsxs("div",{className:s.totalViews,children:[e.jsx("span",{className:s.viewsNumber,children:g.pageViews.length.toLocaleString()}),e.jsx("span",{className:s.viewsLabel,children:"Total Views"}),e.jsxs("div",{className:s.viewsGrowth,children:[e.jsx("span",{children:"📈"}),"+12.5% this week"]})]})})]}),e.jsxs("div",{className:s.pageViewsStats,children:[e.jsxs("div",{className:s.statCard,children:[e.jsx("div",{className:s.statIcon,children:"🌍"}),e.jsx("div",{className:s.statValue,children:i.uniquePaths}),e.jsx("div",{className:s.statLabel,children:"Unique Pages"})]}),e.jsxs("div",{className:s.statCard,children:[e.jsx("div",{className:s.statIcon,children:"⚡"}),e.jsx("div",{className:s.statValue,children:i.sessionsCount>0?(i.totalPageViews/i.sessionsCount).toFixed(1):"0"}),e.jsx("div",{className:s.statLabel,children:"Avg. Pages/Session"})]}),e.jsxs("div",{className:s.statCard,children:[e.jsx("div",{className:s.statIcon,children:"🎯"}),e.jsxs("div",{className:s.statValue,children:[i.bounceRate.toFixed(1),"%"]}),e.jsx("div",{className:s.statLabel,children:"Bounce Rate"})]}),e.jsxs("div",{className:s.statCard,children:[e.jsx("div",{className:s.statIcon,children:"👥"}),e.jsx("div",{className:s.statValue,children:i.sessionsCount}),e.jsx("div",{className:s.statLabel,children:"Active Sessions"})]})]}),e.jsx("div",{className:s.tableContainer,children:e.jsxs("table",{className:s.enhancedTable,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Page Path"}),e.jsx("th",{children:"Timestamp"}),e.jsx("th",{children:"Referrer Source"}),e.jsx("th",{children:"Time Ago"})]})}),e.jsx("tbody",{children:g.pageViews.slice().reverse().slice(0,100).map((t,a)=>{const c=Date.now()-new Date(t.timestamp).getTime(),l=c<36e5,u=c>864e5,v=t.referrer||"Direct",d=v==="Direct";return e.jsxs("tr",{children:[e.jsx("td",{className:s.enhancedPathCell,children:t.path}),e.jsx("td",{className:s.enhancedTimeCell,children:W(t.timestamp)}),e.jsx("td",{className:`${s.enhancedReferrerCell} ${d?s.directTraffic:s.externalReferrer}`,children:v}),e.jsx("td",{className:s.enhancedRelativeTimeCell,children:e.jsx("span",{className:`${s.timeAgo} ${l?s.recentIndicator:u?s.oldIndicator:""}`,children:L(t.timestamp)})})]},a)})})]})}),g.pageViews.length>100&&e.jsxs("div",{className:s.pageViewsPagination,children:[e.jsx("button",{className:s.paginationButton,disabled:!0,children:"← Previous"}),e.jsxs("span",{className:s.pageInfo,children:["Showing 1-100 of ",g.pageViews.length," views"]}),e.jsx("button",{className:s.paginationButton,children:"Next →"})]})]}),p==="interactions"&&e.jsxs("div",{className:s.dataCard,children:[e.jsxs("div",{className:s.cardHeader,children:[e.jsx("h2",{children:"🎯 Recent Interactions"}),e.jsxs("span",{className:s.resultCount,children:[g.interactions.length," results"]})]}),e.jsx("div",{className:s.tableContainer,children:e.jsxs("table",{className:s.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Target"}),e.jsx("th",{children:"Text"}),e.jsx("th",{children:"Time"})]})}),e.jsx("tbody",{children:g.interactions.slice().reverse().slice(0,100).map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:s.typeCell,children:e.jsx("span",{className:s.interactionBadge,children:t.type})}),e.jsx("td",{className:s.targetCell,children:t.href}),e.jsx("td",{className:s.textCell,children:t.text}),e.jsx("td",{className:s.timeCell,children:L(t.timestamp)})]},a))})]})})]}),p==="performance"&&e.jsxs("div",{className:s.performanceSection,children:[e.jsx("h2",{children:"⚡ Performance Metrics"}),e.jsxs("div",{className:s.chartsContainer,children:[e.jsx("div",{className:s.mainChart,children:e.jsx(te,{metrics:x})}),e.jsx("div",{className:s.clsChart,children:e.jsx(ae,{cls:x.cls})}),e.jsx("div",{className:s.performanceTable,children:e.jsxs("table",{className:s.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Metric"}),e.jsx("th",{children:"Value"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:[{name:"FCP",value:x.fcp,unit:"ms",description:"First Contentful Paint",thresholds:{good:1800,needs:3e3}},{name:"LCP",value:x.lcp,unit:"ms",description:"Largest Contentful Paint",thresholds:{good:2500,needs:4e3}},{name:"TTFB",value:x.ttfb,unit:"ms",description:"Time to First Byte",thresholds:{good:800,needs:1800}},{name:"FID",value:x.fid,unit:"ms",description:"First Input Delay",thresholds:{good:100,needs:300}},{name:"CLS",value:x.cls,unit:"",description:"Cumulative Layout Shift",thresholds:{good:.1,needs:.25}}].map(t=>{const a=t.value;let c="unknown";return a!=null&&(a<=t.thresholds.good?c="good":a<=t.thresholds.needs?c="needs-improvement":c="poor"),e.jsxs("tr",{children:[e.jsx("td",{className:s.metricName,children:t.name}),e.jsx("td",{className:s.metricValue,children:a?`${a.toFixed(t.name==="CLS"?3:2)}${t.unit}`:"N/A"}),e.jsx("td",{className:s.metricStatus,children:e.jsx("span",{className:`${s.statusBadge} ${s[c]}`,children:c==="good"?"✅ Good":c==="needs-improvement"?"⚠️ Needs Work":c==="poor"?"❌ Poor":"❓ Unknown"})}),e.jsx("td",{className:s.metricDescription,children:t.description})]},t.name)})})]})})]})]}),p==="traffic"&&e.jsxs("div",{className:s.dataCard,children:[e.jsx("div",{className:s.cardHeader,children:e.jsx("h2",{children:"🌐 Traffic Sources"})}),e.jsx("div",{className:s.trafficSources,children:Object.entries(i.trafficSources).sort((t,a)=>a[1]-t[1]).map(([t,a])=>e.jsxs("div",{className:s.trafficSourceItem,children:[e.jsxs("div",{className:s.sourceInfo,children:[e.jsx("span",{className:s.sourceName,children:t}),e.jsxs("span",{className:s.sourceCount,children:[a," visits"]})]}),e.jsx("div",{className:s.sourceBar,children:e.jsx("div",{className:s.sourceBarFill,style:{width:`${a/Math.max(...Object.values(i.trafficSources))*100}%`}})})]},t))})]})]}),e.jsxs("div",{className:s.footerActions,children:[e.jsxs("div",{className:s.footerInfo,children:[e.jsxs("div",{className:s.lastUpdated,children:["Last updated: ",R.toLocaleString()]}),e.jsxs("div",{className:s.dataStats,children:["Showing ",g.pageViews.length," page views •"," ",g.interactions.length," interactions"]})]}),e.jsxs("div",{className:s.footerButtons,children:[e.jsx("button",{className:s.clearButton,onClick:()=>{window.confirm("Are you sure you want to clear all analytics data? This action cannot be undone.")&&(localStorage.removeItem("rg_analytics"),localStorage.removeItem("rg_interactions"),h({pageViews:[],interactions:[],summary:{totalPageViews:0,totalInteractions:0,uniquePaths:0}}),V(new Date))},children:"🗑️ Clear All Data"}),e.jsx("button",{className:s.logoutButton,onClick:()=>{S(!1),N("")},children:"🚪 Logout"})]})]})]}):e.jsx("div",{className:s.authContainer,children:e.jsxs("div",{className:s.authForm,children:[e.jsxs("div",{className:s.authHeader,children:[e.jsx("div",{className:s.authIcon,children:"📊"}),e.jsx("h2",{children:"Analytics Dashboard"}),e.jsx("p",{children:"Enter admin password to access the dashboard"})]}),e.jsxs("form",{onSubmit:q,children:[e.jsx("input",{type:"password",value:f,onChange:t=>N(t.target.value),placeholder:"Password",className:s.input,required:!0}),e.jsx("button",{type:"submit",className:s.button,children:"Access Dashboard"})]})]})})};export{Ht as default};
//# sourceMappingURL=AdminPanel-B3RIvHaW.js.map
